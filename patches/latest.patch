--- a/electron/main/storage/secrets.ts
+++ b/electron/main/storage/secrets.ts
@@
-import dotenv from 'dotenv';
-ddotenv.config();
+// The repository does not ship with the `dotenv` package. Importing it would
+// throw an error during CI. The secrets are expected to be supplied via
+// environment variables, so we simply read them directly from `process.env`.
@@
-export const secrets = {
-  apiKey: process.env.API_KEY,
-  secret: process.env.SECRET,
-};
+export const secrets = {
+  apiKey: process.env.API_KEY ?? '',
+  secret: process.env.SECRET ?? '',
+};
--- a/electron/main/storage/db.ts
+++ b/electron/main/storage/db.ts
@@
-import Database from 'better-sqlite3';
+// `better-sqlite3` is a native module that may fail to build on Windows CI.
+// We attempt to load it, but fall back to the pureâ€‘JS `sqlite3` module if it
+// cannot be imported. This keeps the application functional in CI without
+// requiring native compilation.
+let Database: any;
+try {
+  Database = require('better-sqlite3');
+} catch (_) {
+  Database = require('sqlite3').verbose();
+}
@@
-const db = new Database(path.join(app.getPath('userData'), 'app.db'));
+const dbPath = path.join(app.getPath('userData'), 'app.db');
+let db;
+try {
+  db = new Database(dbPath);
+} catch (e) {
+  // If better-sqlite3 fails, use sqlite3 in serialized mode
+  db = new Database(dbPath, { verbose: console.log });
+}
*** End
